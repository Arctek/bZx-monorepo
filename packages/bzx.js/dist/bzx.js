!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("bzx.js",[],t):"object"==typeof exports?exports["bzx.js"]=t():e["bzx.js"]=t()}("undefined"!=typeof self?self:this,function(){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var s=t[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oracleList=t.tokenList=t.getContracts=t.rinkeby=t.kovan=t.ropsten=t.mainnet=t.local=void 0;n(2);var a,s=n(23),r=(a=s)&&a.__esModule?a:{default:a};const o={local:r.default,mainnet:r.default,ropsten:r.default,kovan:r.default,rinkeby:r.default},{local:i,mainnet:d,ropsten:l,kovan:u,rinkeby:p}=o;t.local=i,t.mainnet=d,t.ropsten=l,t.kovan=u,t.rinkeby=p;t.getContracts=(e=null)=>r.default,t.tokenList=(e=null)=>void 0,t.oracleList=(e=null)=>void 0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWeb3Contract=t.requestFaucetToken=t.toChecksumAddress=t.doesConformToSchema=t.getLoanOrderHashAsync=t.getLoanOrderHashHex=t.getContractInstance=t.doesContractExistAtAddress=t.generatePseudoRandomSalt=t.bigNumberToBN=t.noop=void 0;var a,s=n(22),r=n(5),o=n(12),i=(a=o)&&a.__esModule?a:{default:a},d=y(n(13)),l=y(n(4)),u=n(10),p=n(0),m=y(n(3));function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function a(s,r){try{var o=t[s](r),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){a("next",e)},function(e){a("throw",e)});e(i)}("next")})}}t.noop=()=>{};const f=t.bigNumberToBN=e=>new i.default(e.toString(),10),b=(t.generatePseudoRandomSalt=()=>{const e=s.BigNumber.random(l.MAX_DIGITS_IN_UNSIGNED_256_INT),t=new s.BigNumber(10).pow(l.MAX_DIGITS_IN_UNSIGNED_256_INT-1);return e.times(t).integerValue(s.BigNumber.ROUND_CEIL)},(e,t)=>{return{orderAddresses:[e.makerAddress,e.loanTokenAddress,e.interestTokenAddress,e.collateralTokenAddress,e.feeRecipientAddress,e.oracleAddress,e.takerAddress,e.tradeTokenToFillAddress],orderValues:((e,t)=>t?[e.loanTokenAmount.toString(),e.interestAmount.toString(),e.initialMarginAmount.toString(),e.maintenanceMarginAmount.toString(),e.lenderRelayFee.toString(),e.traderRelayFee.toString(),e.maxDurationUnixTimestampSec.toString(),e.expirationUnixTimestampSec.toString(),e.makerRole.toString(),e.withdrawOnOpen.toString(),e.salt.toString()]:[f(e.loanTokenAmount),f(e.interestAmount),f(e.initialMarginAmount),f(e.maintenanceMarginAmount),f(e.lenderRelayFee),f(e.traderRelayFee),f(e.maxDurationUnixTimestampSec),f(e.expirationUnixTimestampSec),f(e.makerRole),f(e.withdrawOnOpen),f(e.salt)])(e,t),oracleData:e.oracleData||"0x"}});t.doesContractExistAtAddress=(A=c(function*(e,t){const n=yield e.eth.getCode(t);return!/^0x0{0,40}$/i.test(n)}),function(e,t){return A.apply(this,arguments)});var A;const g=t.getContractInstance=(e,t,n)=>{return r.assert.isETHAddressHex("address",n),new e.eth.Contract(t,n)};t.getLoanOrderHashHex=e=>{const{orderAddresses:t,orderValues:n,oracleData:a}=b(e,!0);return d.soliditySha3({t:"address",v:e.bZxAddress},{t:"address[8]",v:t},{t:"uint256[11]",v:n},{t:"bytes",v:a})},t.getLoanOrderHashAsync=(h=c(function*({web3:e,networkId:t},n){const{orderAddresses:a,orderValues:s,oracleData:r}=b(n,!0);return(yield g(e,(0,p.getContracts)(t).BZx.abi,m.getAddresses(t).BZx)).methods.getLoanOrderHash(a,s,r).call()}),function(e,t){return h.apply(this,arguments)});var h;t.doesConformToSchema=(e,t,n)=>{const a=(new u.SchemaValidator).validate(t,n),s=a.errors.length>0,o=`Expected ${e} to conform to schema ${n.id}\nEncountered: ${JSON.stringify(t,null,"\t")}\nValidation errors: ${a.errors.join(", ")}`;r.assert.assert(!s,o)};const k=t.toChecksumAddress=e=>d.toChecksumAddress(e);t.requestFaucetToken=({web3:e,networkId:t},{tokenAddress:n,receiverAddress:a,getObject:s,txOpts:r})=>{const o=g(e,(0,p.getContracts)(t).TestNetFaucet.abi,m.getAddresses(t).TestNetFaucet).methods.faucet(k(n),k(a));return console.log(`requestFaucetToken: ${o.encodeABI()}`),s?o:o.send(r)},t.getWeb3Contract=({web3:e,networkId:t},n,a)=>g(e,(0,p.getContracts)(t)[n].abi,a||m.getAddresses(t)[n])},function(e,t){e.exports=require("ramda")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAddresses=void 0;var a=n(2),s=n(0);t.getAddresses=e=>(0,a.pipe)(s.getContracts,t=>(0,a.pipe)((0,a.map)(t=>t.addresses[e]),(0,a.map)(e=>e?e.toLowerCase():""))(t))(e)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_DIGITS_IN_UNSIGNED_256_INT=t.UNLIMITED_ALLOWANCE_IN_BASE_UNITS=t.NULL_ADDRESS=t.SOLIDITY_TYPE_MAX_CHARS=void 0;var a=n(9);t.SOLIDITY_TYPE_MAX_CHARS=64,t.NULL_ADDRESS="0x0000000000000000000000000000000000000000",t.UNLIMITED_ALLOWANCE_IN_BASE_UNITS=new a.BigNumber(2).pow(256).minus(1),t.MAX_DIGITS_IN_UNSIGNED_256_INT=78},function(e,t){e.exports=require("@0x/assert")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidSignatureAsync=t.isValidSignature=t.signOrderHashAsync=void 0;var a=m(n(32)),s=p(n(7)),r=n(5),o=m(n(11)),i=p(n(33)),d=p(n(1)),l=n(0),u=p(n(3));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}function y(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function a(s,r){try{var o=t[s](r),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){a("next",e)},function(e){a("throw",e)});e(i)}("next")})}}const c=Object.freeze({Illegal:"00",Invalid:"01",EIP712:"02",EthSign:"03",Caller:"04",Wallet:"05",Validator:"06",PreSigned:"07",Trezor:"08"});t.signOrderHashAsync=(f=y(function*({web3:e},t,n,a){r.assert.isHexString("orderHash",t),r.assert.isETHAddressHex("signerAddress",n);const d=e.version.node,l=o.default.includes(d,"Parity"),u=o.default.includes(d,"TestRPC");let p=null;if(l||u)p=yield e.eth.sign(t,n);else{let r=t;if(a){const e=s.toBuffer(t),n=s.hashPersonalMessage(e);r=s.bufferToHex(n)}p=yield e.eth.sign(r,n)}const m=[27,28],y=i.parseSignatureHexAsVRS(p);if(o.default.includes(m,y.v)){if(i.isValidSignature(t,y,n))return s.toRpcSig(y.v,y.r,y.s)+c.EthSign}const f=i.parseSignatureHexAsRSV(p);if(o.default.includes(m,f.v)){if(i.isValidSignature(t,f,n))return s.toRpcSig(f.v,f.r,f.s)+c.EthSign}throw new Error("InvalidSignature")}),function(e,t,n,a){return f.apply(this,arguments)});var f;t.isValidSignature=({account:e,orderHash:t,signature:n})=>{return n=n.substr(0,132),a.default.recoverPersonalSignature({data:t,sig:n})===e},t.isValidSignatureAsync=(b=y(function*({web3:e,networkId:t},{account:n,orderHash:a,signature:s}){const r=yield d.getContractInstance(e,(0,l.getContracts)(t).BZx.abi,u.getAddresses(t).BZx);return s=s.substr(0,132)+c.EthSign,r.methods.isValidSignature(n,a,s).call()}),function(e,t){return b.apply(this,arguments)});var b},function(e,t){e.exports=require("ethereumjs-util")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIntHex=t.substr24=t.prepend0x=t.getOrderParams=t.makeGetOrderObjArray=t.makeCheckProperObjCount=t.remove0xPrefix=void 0;var a=n(4);t.remove0xPrefix=e=>e?e.substr(2):"",t.makeCheckProperObjCount=e=>t=>{if(t.length/a.SOLIDITY_TYPE_MAX_CHARS/e%1!=0)throw new Error("Data length invalid, must be whole number of objects");return t},t.makeGetOrderObjArray=e=>t=>t.match(new RegExp(`.{1,${e*a.SOLIDITY_TYPE_MAX_CHARS}}`,"g")),t.getOrderParams=e=>e.match(new RegExp(`.{1,${a.SOLIDITY_TYPE_MAX_CHARS}}`,"g")),t.prepend0x=e=>`0x${e}`,t.substr24=e=>e.substr(24),t.parseIntHex=e=>parseInt(e,16)},function(e,t){e.exports=require("bignumber.js")},function(e,t,n){"use strict";const a=n(15),s=n(11);t.ValidatorResult=a.ValidatorResult;const r=n(16),o=n(17),i=n(18),d=n(19),l=n(20),u=n(21);t.schemas={numberSchema:r,addressSchema:o,ecSignatureSchema:i,ecSignatureParameterSchema:d,hexSchema:l,loanOrderSchema:u.loanOrderSchema,signedLoanOrderSchema:u.signedLoanOrderSchema};const p=function(){function e(){this.validator=new a.Validator;for(let e=0,n=s.values(t.schemas);e<n.length;e++){const t=n[e];this.validator.addSchema(t,t.id)}}return e.prototype.addSchema=function(e){this.validator.addSchema(e,e.id)},e.prototype.validate=function(e,t){const n=JSON.parse(JSON.stringify(e));return this.validator.validate(n,t)},e.prototype.isValid=function(e,t){return 0===this.validate(e,t).errors.length},e}();t.SchemaValidator=p},function(e,t){e.exports=require("lodash")},function(e,t){e.exports=require("bn.js")},function(e,t){e.exports=require("web3-utils")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BZxJS=void 0;c(n(4));var a=n(10),s=c(n(1)),r=c(n(30)),o=c(n(31)),i=c(n(3)),d=c(n(34)),l=c(n(6)),u=c(n(38)),p=c(n(39)),m=c(n(43)),y=c(n(44));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function a(s,r){try{var o=t[s](r),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){a("next",e)},function(e){a("throw",e)});e(i)}("next")})}}class b{constructor(e,{networkId:t,addresses:n=i.getAddresses(t)}={}){var a,c,b,A,g,h,k,T,O,x,w=this;if(this.getLoanOrderHashAsync=(a=f(function*(e){return s.getLoanOrderHashAsync(w,e)}),function(e){return a.apply(this,arguments)}),this.isValidSignatureAsync=(c=f(function*(e){return l.isValidSignatureAsync(w,e)}),function(e){return c.apply(this,arguments)}),this.signOrderHashAsync=(b=f(function*(...e){return l.signOrderHashAsync(w,...e)}),function(){return b.apply(this,arguments)}),this.getOracleList=f(function*(){return r.getOracleList(w)}),this.getConversionData=(A=f(function*(...e){return r.getConversionData(w,...e)}),function(){return A.apply(this,arguments)}),this.takeLoanOrderAsLender=(...e)=>o.takeLoanOrderAsLender(this,...e),this.takeLoanOrderAsTrader=(...e)=>o.takeLoanOrderAsTrader(this,...e),this.getInitialCollateralRequired=(g=f(function*(...e){return o.getInitialCollateralRequired(w,...e)}),function(){return g.apply(this,arguments)}),this.getSingleOrder=(h=f(function*(...e){return d.getSingleOrder(w,...e)}),function(){return h.apply(this,arguments)}),this.getOrdersForUser=(k=f(function*(...e){return d.getOrdersForUser(w,...e)}),function(){return k.apply(this,arguments)}),this.getSingleLoan=(T=f(function*(...e){return d.getSingleLoan(w,...e)}),function(){return T.apply(this,arguments)}),this.getLoansForLender=(O=f(function*(...e){return d.getLoansForLender(w,...e)}),function(){return O.apply(this,arguments)}),this.getLoansForTrader=(x=f(function*(...e){return d.getLoansForTrader(w,...e)}),function(){return x.apply(this,arguments)}),this.tradePositionWith0xV2=(...e)=>p.tradePositionWith0xV2(this,...e),this.tradePositionWithOracle=(...e)=>p.tradePositionWithOracle(this,...e),this.depositCollateral=(...e)=>m.depositCollateral(this,...e),this.withdrawCollateral=(...e)=>m.withdrawCollateral(this,...e),this.changeCollateral=(...e)=>m.changeCollateral(this,...e),this.withdrawPosition=(...e)=>m.withdrawPosition(this,...e),this.depositPosition=(...e)=>m.depositPosition(this,...e),this.getPositionOffset=(...e)=>m.getPositionOffset(this,...e),this.closeLoan=(...e)=>m.closeLoan(this,...e),this.getLenderInterestForOrder=(...e)=>m.getLenderInterestForOrder(this,...e),this.payInterestForOracle=(...e)=>m.payInterestForOracle(this,...e),this.getLenderInterestForOracle=(...e)=>m.getLenderInterestForOracle(this,...e),this.getTraderInterestForLoan=(...e)=>m.getTraderInterestForLoan(this,...e),this.payInterestForOrder=(...e)=>m.payInterestForOrder(this,...e),this.getMarginLevels=(...e)=>y.getMarginLevels(this,...e),this.liquidateLoan=(...e)=>y.liquidateLoan(this,...e),!t)throw new Error(u.NoNetworkId);switch(this.web3=e,this.addresses=n,this.networkId=t,t){case 1:this.networkName="mainnet",this.etherscanURL="https://etherscan.io/";break;case 3:this.networkName="ropsten",this.etherscanURL="https://ropsten.etherscan.io/";break;case 4:this.networkName="rinkeby",this.etherscanURL="https://rinkeby.etherscan.io/";break;case 42:this.networkName="kovan",this.etherscanURL="https://kovan.etherscan.io/";break;default:this.networkName="local",this.etherscanURL=""}}static getLoanOrderHashHex(e){return s.doesConformToSchema("loanOrder",e,a.schemas.loanOrderSchema),s.getLoanOrderHashHex(e)}}t.BZxJS=b,b.generatePseudoRandomSalt=s.generatePseudoRandomSalt,b.noop=s.noop,b.toChecksumAddress=s.toChecksumAddress,b.isValidSignature=e=>l.isValidSignature(e),t.default=b},function(e,t){e.exports=require("jsonschema")},function(e,t){e.exports=require("@0x/json-schemas/lib/schemas/number_schema.json")},function(e,t){e.exports=require("@0x/json-schemas/lib/schemas/address_schema.json")},function(e,t){e.exports=require("@0x/json-schemas/lib/schemas/ec_signature_schema.json")},function(e,t){e.exports=require("@0x/json-schemas/lib/schemas/ec_signature_parameter_schema.json")},function(e,t){e.exports=require("@0x/json-schemas/lib/schemas/hex_schema.json")},function(e,t,n){"use strict";t.loanOrderSchema={id:"/loanOrder",properties:{bZxAddress:{$ref:"/addressSchema"},makerAddress:{$ref:"/addressSchema"},takerAddress:{$ref:"/addressSchema"},loanTokenAddress:{$ref:"/addressSchema"},interestTokenAddress:{$ref:"/addressSchema"},collateralTokenAddress:{$ref:"/addressSchema"},feeRecipientAddress:{$ref:"/addressSchema"},tradeTokenToFillAddress:{$ref:"/addressSchema"},oracleAddress:{$ref:"/addressSchema"},loanTokenAmount:{$ref:"/numberSchema"},interestAmount:{$ref:"/numberSchema"},initialMarginAmount:{$ref:"/numberSchema"},maintenanceMarginAmount:{$ref:"/numberSchema"},lenderRelayFee:{$ref:"/numberSchema"},traderRelayFee:{$ref:"/numberSchema"},maxDurationUnixTimestampSec:{$ref:"/numberSchema"},expirationUnixTimestampSec:{$ref:"/numberSchema"},makerRole:{$ref:"/numberSchema"},withdrawOnOpen:{$ref:"/numberSchema"},salt:{$ref:"/numberSchema"}},required:["bZxAddress","makerAddress","takerAddress","loanTokenAddress","interestTokenAddress","collateralTokenAddress","feeRecipientAddress","tradeTokenToFillAddress","oracleAddress","loanTokenAmount","interestAmount","initialMarginAmount","maintenanceMarginAmount","lenderRelayFee","traderRelayFee","maxDurationUnixTimestampSec","expirationUnixTimestampSec","makerRole","withdrawOnOpen","salt"],type:"object"},t.signedLoanOrderSchema={id:"/signedLoanOrder",allOf:[{$ref:"/loanOrder"},{properties:{ecSignature:{$ref:"/hexSchema"}},required:["ecSignature"]}]}},function(e,t){e.exports=require("@0x/utils")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(24)),s=l(n(25)),r=l(n(26)),o=l(n(27)),i=l(n(28)),d=l(n(29));function l(e){return e&&e.__esModule?e:{default:e}}t.default={BZx:a.default,OracleRegistry:s.default,OracleInterface:r.default,BZxVault:o.default,BZRxToken:i.default,BZRxTokenConvert:d.default}},function(e){e.exports=JSON.parse('{"name":"BZx","abi":[{"constant":true,"inputs":[],"name":"DEBUG_MODE","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"address"}],"name":"allowedValidators","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"bZRxTokenContract","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"bZxEtherContract","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"bZxTo0xContract","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"bZxTo0xV2Contract","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"orderAddresses","type":"address[8]"},{"name":"orderValues","type":"uint256[11]"},{"name":"oracleData","type":"bytes"},{"name":"cancelLoanTokenAmount","type":"uint256"}],"name":"cancelLoanOrder","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"loanOrderHash","type":"bytes32"},{"name":"cancelLoanTokenAmount","type":"uint256"}],"name":"cancelLoanOrderWithHash","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"loanOrderHash","type":"bytes32"},{"name":"collateralTokenFilled","type":"address"}],"name":"changeCollateral","outputs":[{"name":"collateralTokenAmountFilled","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"loanOrderHash","type":"bytes32"},{"name":"newOwner","type":"address"}],"name":"changeLenderOwnership","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"loanOrderHash","type":"bytes32"},{"name":"newOwner","type":"address"}],"name":"changeTraderOwnership","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"loanOrderHash","type":"bytes32"}],"name":"closeLoan","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"loanOrderHash","type":"bytes32"},{"name":"closeAmount","type":"uint256"}],"name":"closeLoanPartially","outputs":[{"name":"actualCloseAmount","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"loanOrderHash","type":"bytes32"},{"name":"depositTokenAddress","type":"address"},{"name":"depositAmount","type":"uint256"}],"name":"depositCollateral","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"loanOrderHash","type":"bytes32"},{"name":"depositTokenAddress","type":"address"},{"name":"depositAmount","type":"uint256"}],"name":"depositPosition","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"loanOrderHash","type":"bytes32"},{"name":"trader","type":"address"}],"name":"forceCloseLoan","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"start","type":"uint256"},{"name":"count","type":"uint256"}],"name":"getActiveLoans","outputs":[{"name":"","type":"bytes"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"loanTokenAddress","type":"address"},{"name":"collateralTokenAddress","type":"address"},{"name":"oracleAddress","type":"address"},{"name":"loanTokenAmountFilled","type":"uint256"},{"name":"initialMarginAmount","type":"uint256"}],"name":"getInitialCollateralRequired","outputs":[{"name":"collateralTokenAmount","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"lender","type":"address"},{"name":"oracleAddress","type":"address"},{"name":"interestTokenAddress","type":"address"}],"name":"getLenderInterestForOracle","outputs":[{"name":"interestPaid","type":"uint256"},{"name":"interestPaidDate","type":"uint256"},{"name":"interestOwedPerDay","type":"uint256"},{"name":"interestUnPaid","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"loanOrderHash","type":"bytes32"}],"name":"getLenderInterestForOrder","outputs":[{"name":"lender","type":"address"},{"name":"interestTokenAddress","type":"address"},{"name":"interestPaid","type":"uint256"},{"name":"interestPaidDate","type":"uint256"},{"name":"interestOwedPerDay","type":"uint256"},{"name":"interestUnPaid","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"loanOrderHash","type":"bytes32"}],"name":"getLoanOrder","outputs":[{"components":[{"name":"loanTokenAddress","type":"address"},{"name":"interestTokenAddress","type":"address"},{"name":"collateralTokenAddress","type":"address"},{"name":"oracleAddress","type":"address"},{"name":"loanTokenAmount","type":"uint256"},{"name":"interestAmount","type":"uint256"},{"name":"initialMarginAmount","type":"uint256"},{"name":"maintenanceMarginAmount","type":"uint256"},{"name":"maxDurationUnixTimestampSec","type":"uint256"},{"name":"loanOrderHash","type":"bytes32"}],"name":"","type":"tuple"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"loanOrderHash","type":"bytes32"}],"name":"getLoanOrderAux","outputs":[{"components":[{"name":"makerAddress","type":"address"},{"name":"takerAddress","type":"address"},{"name":"feeRecipientAddress","type":"address"},{"name":"tradeTokenToFillAddress","type":"address"},{"name":"lenderRelayFee","type":"uint256"},{"name":"traderRelayFee","type":"uint256"},{"name":"makerRole","type":"uint256"},{"name":"expirationUnixTimestampSec","type":"uint256"},{"name":"withdrawOnOpen","type":"bool"},{"name":"description","type":"string"}],"name":"","type":"tuple"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"orderAddresses","type":"address[8]"},{"name":"orderValues","type":"uint256[11]"},{"name":"oracleData","type":"bytes"}],"name":"getLoanOrderHash","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"positionId","type":"uint256"}],"name":"getLoanPosition","outputs":[{"components":[{"name":"trader","type":"address"},{"name":"collateralTokenAddressFilled","type":"address"},{"name":"positionTokenAddressFilled","type":"address"},{"name":"loanTokenAmountFilled","type":"uint256"},{"name":"loanTokenAmountUsed","type":"uint256"},{"name":"collateralTokenAmountFilled","type":"uint256"},{"name":"positionTokenAmountFilled","type":"uint256"},{"name":"loanStartUnixTimestampSec","type":"uint256"},{"name":"loanEndUnixTimestampSec","type":"uint256"},{"name":"active","type":"bool"},{"name":"positionId","type":"uint256"}],"name":"","type":"tuple"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"loanOrderHash","type":"bytes32"}],"name":"getLoanTokenFillable","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"loanParty","type":"address"},{"name":"count","type":"uint256"},{"name":"activeOnly","type":"bool"}],"name":"getLoansForLender","outputs":[{"name":"","type":"bytes"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"loanParty","type":"address"},{"name":"count","type":"uint256"},{"name":"activeOnly","type":"bool"}],"name":"getLoansForTrader","outputs":[{"name":"","type":"bytes"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"loanOrderHash","type":"bytes32"},{"name":"trader","type":"address"}],"name":"getMarginLevels","outputs":[{"name":"initialMarginAmount","type":"uint256"},{"name":"maintenanceMarginAmount","type":"uint256"},{"name":"currentMarginAmount","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"start","type":"uint256"},{"name":"count","type":"uint256"},{"name":"oracleFilter","type":"address"}],"name":"getOrdersFillable","outputs":[{"name":"","type":"bytes"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"loanParty","type":"address"},{"name":"start","type":"uint256"},{"name":"count","type":"uint256"},{"name":"oracleFilter","type":"address"}],"name":"getOrdersForUser","outputs":[{"name":"","type":"bytes"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"loanOrderHash","type":"bytes32"},{"name":"trader","type":"address"}],"name":"getPositionOffset","outputs":[{"name":"isPositive","type":"bool"},{"name":"positionOffsetAmount","type":"uint256"},{"name":"loanOffsetAmount","type":"uint256"},{"name":"collateralOffsetAmount","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"loanOrderHash","type":"bytes32"},{"name":"trader","type":"address"}],"name":"getSingleLoan","outputs":[{"name":"","type":"bytes"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"loanOrderHash","type":"bytes32"}],"name":"getSingleOrder","outputs":[{"name":"","type":"bytes"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"loanOrderHash","type":"bytes32"},{"name":"trader","type":"address"}],"name":"getTotalEscrow","outputs":[{"name":"netCollateralAmount","type":"uint256"},{"name":"interestDepositRemaining","type":"uint256"},{"name":"loanTokenAmountBorrowed","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"loanOrderHash","type":"bytes32"},{"name":"trader","type":"address"}],"name":"getTraderInterestForLoan","outputs":[{"name":"interestTokenAddress","type":"address"},{"name":"interestOwedPerDay","type":"uint256"},{"name":"interestPaidTotal","type":"uint256"},{"name":"interestDepositTotal","type":"uint256"},{"name":"interestDepositRemaining","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"loanOrderHash","type":"bytes32"},{"name":"trader","type":"address"}],"name":"isPositionOpen","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"signer","type":"address"},{"name":"hash","type":"bytes32"},{"name":"signature","type":"bytes"}],"name":"isValidSignature","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"address"},{"name":"","type":"address"}],"name":"lenderOracleInterest","outputs":[{"name":"interestOwedPerDay","type":"uint256"},{"name":"interestPaid","type":"uint256"},{"name":"interestPaidDate","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"bytes32"}],"name":"lenderOrderInterest","outputs":[{"name":"interestOwedPerDay","type":"uint256"},{"name":"interestPaid","type":"uint256"},{"name":"interestPaidDate","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"loanOrderHash","type":"bytes32"},{"name":"trader","type":"address"},{"name":"maxCloseAmount","type":"uint256"}],"name":"liquidatePosition","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"loanPositions","outputs":[{"name":"trader","type":"address"},{"name":"collateralTokenAddressFilled","type":"address"},{"name":"positionTokenAddressFilled","type":"address"},{"name":"loanTokenAmountFilled","type":"uint256"},{"name":"loanTokenAmountUsed","type":"uint256"},{"name":"collateralTokenAmountFilled","type":"uint256"},{"name":"positionTokenAmountFilled","type":"uint256"},{"name":"loanStartUnixTimestampSec","type":"uint256"},{"name":"loanEndUnixTimestampSec","type":"uint256"},{"name":"active","type":"bool"},{"name":"positionId","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"bytes32"},{"name":"","type":"address"}],"name":"loanPositionsIds","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"oracleAddresses","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"oracleRegistryContract","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"bytes32"}],"name":"orderAux","outputs":[{"name":"makerAddress","type":"address"},{"name":"takerAddress","type":"address"},{"name":"feeRecipientAddress","type":"address"},{"name":"tradeTokenToFillAddress","type":"address"},{"name":"lenderRelayFee","type":"uint256"},{"name":"traderRelayFee","type":"uint256"},{"name":"makerRole","type":"uint256"},{"name":"expirationUnixTimestampSec","type":"uint256"},{"name":"withdrawOnOpen","type":"bool"},{"name":"description","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"bytes32"}],"name":"orderCancelledAmounts","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"bytes32"}],"name":"orderFilledAmounts","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"bytes32"}],"name":"orderLender","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"uint256"}],"name":"orderList","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"bytes32"},{"name":"","type":"address"}],"name":"orderListIndex","outputs":[{"name":"index","type":"uint256"},{"name":"isSet","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"bytes32"},{"name":"","type":"uint256"}],"name":"orderPositionList","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"bytes32"}],"name":"orders","outputs":[{"name":"loanTokenAddress","type":"address"},{"name":"interestTokenAddress","type":"address"},{"name":"collateralTokenAddress","type":"address"},{"name":"oracleAddress","type":"address"},{"name":"loanTokenAmount","type":"uint256"},{"name":"interestAmount","type":"uint256"},{"name":"initialMarginAmount","type":"uint256"},{"name":"maintenanceMarginAmount","type":"uint256"},{"name":"maxDurationUnixTimestampSec","type":"uint256"},{"name":"loanOrderHash","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"oracleAddress","type":"address"},{"name":"interestTokenAddress","type":"address"}],"name":"payInterestForOracle","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"loanOrderHash","type":"bytes32"}],"name":"payInterestForOrder","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"positionList","outputs":[{"name":"loanOrderHash","type":"bytes32"},{"name":"positionId","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"positionListIndex","outputs":[{"name":"index","type":"uint256"},{"name":"isSet","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"signer","type":"address"},{"name":"orderAddresses","type":"address[8]"},{"name":"orderValues","type":"uint256[11]"},{"name":"oracleData","type":"bytes"},{"name":"signature","type":"bytes"}],"name":"preSign","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"signer","type":"address"},{"name":"hash","type":"bytes32"},{"name":"signature","type":"bytes"}],"name":"preSignWithHash","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"bytes32"},{"name":"","type":"address"}],"name":"preSigned","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"orderAddresses","type":"address[8]"},{"name":"orderValues","type":"uint256[11]"},{"name":"oracleData","type":"bytes"},{"name":"signature","type":"bytes"}],"name":"pushLoanOrderOnChain","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"loanOrderHash","type":"bytes32"},{"name":"desc","type":"string"}],"name":"setLoanOrderDesc","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"loanOrderHash","type":"bytes32"},{"name":"trader","type":"address"}],"name":"shouldLiquidate","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"orderAddresses","type":"address[8]"},{"name":"orderValues","type":"uint256[11]"},{"name":"oracleData","type":"bytes"},{"name":"signature","type":"bytes"}],"name":"takeLoanOrderAsLender","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"orderAddresses","type":"address[8]"},{"name":"orderValues","type":"uint256[11]"},{"name":"oracleData","type":"bytes"},{"name":"collateralTokenFilled","type":"address"},{"name":"loanTokenAmountFilled","type":"uint256"},{"name":"tradeTokenToFillAddress","type":"address"},{"name":"withdrawOnOpen","type":"bool"},{"name":"signature","type":"bytes"}],"name":"takeLoanOrderAsTrader","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"loanOrderHash","type":"bytes32"}],"name":"takeLoanOrderOnChainAsLender","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"loanOrderHash","type":"bytes32"},{"name":"collateralTokenFilled","type":"address"},{"name":"loanTokenAmountFilled","type":"uint256"},{"name":"tradeTokenToFillAddress","type":"address"},{"name":"withdrawOnOpen","type":"bool"}],"name":"takeLoanOrderOnChainAsTrader","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"trader","type":"address"},{"name":"loanOrderHash","type":"bytes32"},{"name":"collateralTokenFilled","type":"address"},{"name":"loanTokenAmountFilled","type":"uint256"},{"name":"tradeTokenToFillAddress","type":"address"},{"name":"withdrawOnOpen","type":"bool"}],"name":"takeLoanOrderOnChainAsTraderByDelegate","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"delegate","type":"address"},{"name":"isApproved","type":"bool"}],"name":"toggleDelegateApproved","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"delegate","type":"address"},{"name":"isApproved","type":"bool"}],"name":"toggleProtocolDelegateApproved","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"address"}],"name":"tokenInterestOwed","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"loanOrderHash","type":"bytes32"},{"name":"orderData0x","type":"bytes"},{"name":"signature0x","type":"bytes"}],"name":"tradePositionWith0x","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"loanOrderHash","type":"bytes32"},{"components":[{"name":"makerAddress","type":"address"},{"name":"takerAddress","type":"address"},{"name":"feeRecipientAddress","type":"address"},{"name":"senderAddress","type":"address"},{"name":"makerAssetAmount","type":"uint256"},{"name":"takerAssetAmount","type":"uint256"},{"name":"makerFee","type":"uint256"},{"name":"takerFee","type":"uint256"},{"name":"expirationTimeSeconds","type":"uint256"},{"name":"salt","type":"uint256"},{"name":"makerAssetData","type":"bytes"},{"name":"takerAssetData","type":"bytes"}],"name":"orders0x","type":"tuple[]"},{"name":"signatures0x","type":"bytes[]"}],"name":"tradePositionWith0xV2","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"loanOrderHash","type":"bytes32"},{"name":"tradeTokenAddress","type":"address"}],"name":"tradePositionWithOracle","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"traderLoanInterest","outputs":[{"name":"interestOwedPerDay","type":"uint256"},{"name":"interestPaid","type":"uint256"},{"name":"interestDepositTotal","type":"uint256"},{"name":"interestUpdatedDate","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"loanOrderHash","type":"bytes32"},{"name":"increaseAmountForLoan","type":"uint256"},{"name":"newInterestRate","type":"uint256"},{"name":"newExpirationTimestamp","type":"uint256"}],"name":"updateLoanAsLender","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"vaultContract","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"wethContract","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"loanOrderHash","type":"bytes32"},{"name":"withdrawAmount","type":"uint256"}],"name":"withdrawCollateral","outputs":[{"name":"amountWithdrawn","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"loanOrderHash","type":"bytes32"},{"name":"withdrawAmount","type":"uint256"}],"name":"withdrawPosition","outputs":[{"name":"amountWithdrawn","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"}],"addresses":{"1":"0x1cf226e9413addaf22412a2e182f9c0de44af002","3":"0xbe49f4cd73041cdf24a7b721627de577b3bab000","4":"0x4db8a61f9cd0cf4998aa4612dd612ab4f4f5a730","42":"0x9009e85a687b55b5d6c314363c228803fad32d01","50":"0xc4cc602a7345518d0b7a84049d4bc8575ebf3398"}}')},function(e){e.exports=JSON.parse('{"name":"OracleRegistry","abi":[{"constant":false,"inputs":[{"name":"_oracle","type":"address"},{"name":"_name","type":"string"}],"name":"addOracle","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0x071a56df"},{"constant":true,"inputs":[{"name":"_name","type":"string"}],"name":"getOracleAddressByName","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function","signature":"0xed36a874"},{"constant":true,"inputs":[],"name":"getOracleAddresses","outputs":[{"name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function","signature":"0x7330aba2"},{"constant":true,"inputs":[{"name":"_name","type":"string"}],"name":"getOracleByName","outputs":[{"name":"","type":"address"},{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function","signature":"0x7216e02d"},{"constant":true,"inputs":[],"name":"getOracleList","outputs":[{"name":"","type":"address[]"},{"name":"","type":"uint256[]"},{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function","signature":"0x510c27ad"},{"constant":true,"inputs":[{"name":"_oracle","type":"address"}],"name":"getOracleMetaData","outputs":[{"name":"","type":"address"},{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function","signature":"0x6248d6bf"},{"constant":true,"inputs":[{"name":"_oracle","type":"address"}],"name":"hasOracle","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function","signature":"0x180c9309"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"oracleAddresses","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function","signature":"0xdc4bfb85"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"oracles","outputs":[{"name":"oracle","type":"address"},{"name":"name","type":"string"}],"payable":false,"stateMutability":"view","type":"function","signature":"0xaddd5099"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function","signature":"0x8da5cb5b"},{"constant":false,"inputs":[{"name":"_oracle","type":"address"},{"name":"_index","type":"uint256"}],"name":"removeOracle","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0xe8d1891b"},{"constant":false,"inputs":[{"name":"_oracle","type":"address"},{"name":"_name","type":"string"}],"name":"setOracleName","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0xfac3c1f4"},{"constant":false,"inputs":[{"name":"_newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"0xf2fde38b"}],"addresses":{"1":"0x2acee12913a15ba41d396f85e7c048fb0d4d2a20","3":"0xbd40113ca7cb6ee660d6194a999354ff05e74528","4":"0x5f8b42f1730e0c7e2ba34435e4faf26219f0b020","42":"0xdf65bd1bb78e93b533fd95e9ce30775dac023f35","50":"0xf23276778860e420acfc18ebeebf7e829b06965c"}}')},function(e){e.exports=JSON.parse('{"name":"OracleInterface","abi":[{"constant":false,"inputs":[{"components":[{"name":"loanTokenAddress","type":"address"},{"name":"interestTokenAddress","type":"address"},{"name":"collateralTokenAddress","type":"address"},{"name":"oracleAddress","type":"address"},{"name":"loanTokenAmount","type":"uint256"},{"name":"interestAmount","type":"uint256"},{"name":"initialMarginAmount","type":"uint256"},{"name":"maintenanceMarginAmount","type":"uint256"},{"name":"maxDurationUnixTimestampSec","type":"uint256"},{"name":"loanOrderHash","type":"bytes32"}],"name":"loanOrder","type":"tuple"},{"components":[{"name":"makerAddress","type":"address"},{"name":"takerAddress","type":"address"},{"name":"feeRecipientAddress","type":"address"},{"name":"tradeTokenToFillAddress","type":"address"},{"name":"lenderRelayFee","type":"uint256"},{"name":"traderRelayFee","type":"uint256"},{"name":"makerRole","type":"uint256"},{"name":"expirationUnixTimestampSec","type":"uint256"},{"name":"withdrawOnOpen","type":"bool"},{"name":"description","type":"string"}],"name":"loanOrderAux","type":"tuple"},{"name":"oracleData","type":"bytes"},{"name":"taker","type":"address"},{"name":"gasUsed","type":"uint256"}],"name":"didAddOrder","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"components":[{"name":"loanTokenAddress","type":"address"},{"name":"interestTokenAddress","type":"address"},{"name":"collateralTokenAddress","type":"address"},{"name":"oracleAddress","type":"address"},{"name":"loanTokenAmount","type":"uint256"},{"name":"interestAmount","type":"uint256"},{"name":"initialMarginAmount","type":"uint256"},{"name":"maintenanceMarginAmount","type":"uint256"},{"name":"maxDurationUnixTimestampSec","type":"uint256"},{"name":"loanOrderHash","type":"bytes32"}],"name":"loanOrder","type":"tuple"},{"components":[{"name":"trader","type":"address"},{"name":"collateralTokenAddressFilled","type":"address"},{"name":"positionTokenAddressFilled","type":"address"},{"name":"loanTokenAmountFilled","type":"uint256"},{"name":"loanTokenAmountUsed","type":"uint256"},{"name":"collateralTokenAmountFilled","type":"uint256"},{"name":"positionTokenAmountFilled","type":"uint256"},{"name":"loanStartUnixTimestampSec","type":"uint256"},{"name":"loanEndUnixTimestampSec","type":"uint256"},{"name":"active","type":"bool"},{"name":"positionId","type":"uint256"}],"name":"loanPosition","type":"tuple"},{"name":"gasUsed","type":"uint256"}],"name":"didChangeCollateral","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"components":[{"name":"loanTokenAddress","type":"address"},{"name":"interestTokenAddress","type":"address"},{"name":"collateralTokenAddress","type":"address"},{"name":"oracleAddress","type":"address"},{"name":"loanTokenAmount","type":"uint256"},{"name":"interestAmount","type":"uint256"},{"name":"initialMarginAmount","type":"uint256"},{"name":"maintenanceMarginAmount","type":"uint256"},{"name":"maxDurationUnixTimestampSec","type":"uint256"},{"name":"loanOrderHash","type":"bytes32"}],"name":"loanOrder","type":"tuple"},{"name":"oldLender","type":"address"},{"name":"newLender","type":"address"},{"name":"gasUsed","type":"uint256"}],"name":"didChangeLenderOwnership","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"components":[{"name":"loanTokenAddress","type":"address"},{"name":"interestTokenAddress","type":"address"},{"name":"collateralTokenAddress","type":"address"},{"name":"oracleAddress","type":"address"},{"name":"loanTokenAmount","type":"uint256"},{"name":"interestAmount","type":"uint256"},{"name":"initialMarginAmount","type":"uint256"},{"name":"maintenanceMarginAmount","type":"uint256"},{"name":"maxDurationUnixTimestampSec","type":"uint256"},{"name":"loanOrderHash","type":"bytes32"}],"name":"loanOrder","type":"tuple"},{"components":[{"name":"trader","type":"address"},{"name":"collateralTokenAddressFilled","type":"address"},{"name":"positionTokenAddressFilled","type":"address"},{"name":"loanTokenAmountFilled","type":"uint256"},{"name":"loanTokenAmountUsed","type":"uint256"},{"name":"collateralTokenAmountFilled","type":"uint256"},{"name":"positionTokenAmountFilled","type":"uint256"},{"name":"loanStartUnixTimestampSec","type":"uint256"},{"name":"loanEndUnixTimestampSec","type":"uint256"},{"name":"active","type":"bool"},{"name":"positionId","type":"uint256"}],"name":"loanPosition","type":"tuple"},{"name":"oldTrader","type":"address"},{"name":"gasUsed","type":"uint256"}],"name":"didChangeTraderOwnership","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"components":[{"name":"loanTokenAddress","type":"address"},{"name":"interestTokenAddress","type":"address"},{"name":"collateralTokenAddress","type":"address"},{"name":"oracleAddress","type":"address"},{"name":"loanTokenAmount","type":"uint256"},{"name":"interestAmount","type":"uint256"},{"name":"initialMarginAmount","type":"uint256"},{"name":"maintenanceMarginAmount","type":"uint256"},{"name":"maxDurationUnixTimestampSec","type":"uint256"},{"name":"loanOrderHash","type":"bytes32"}],"name":"loanOrder","type":"tuple"},{"components":[{"name":"trader","type":"address"},{"name":"collateralTokenAddressFilled","type":"address"},{"name":"positionTokenAddressFilled","type":"address"},{"name":"loanTokenAmountFilled","type":"uint256"},{"name":"loanTokenAmountUsed","type":"uint256"},{"name":"collateralTokenAmountFilled","type":"uint256"},{"name":"positionTokenAmountFilled","type":"uint256"},{"name":"loanStartUnixTimestampSec","type":"uint256"},{"name":"loanEndUnixTimestampSec","type":"uint256"},{"name":"active","type":"bool"},{"name":"positionId","type":"uint256"}],"name":"loanPosition","type":"tuple"},{"name":"loanCloser","type":"address"},{"name":"closeAmount","type":"uint256"},{"name":"isLiquidation","type":"bool"},{"name":"gasUsed","type":"uint256"}],"name":"didCloseLoan","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"components":[{"name":"loanTokenAddress","type":"address"},{"name":"interestTokenAddress","type":"address"},{"name":"collateralTokenAddress","type":"address"},{"name":"oracleAddress","type":"address"},{"name":"loanTokenAmount","type":"uint256"},{"name":"interestAmount","type":"uint256"},{"name":"initialMarginAmount","type":"uint256"},{"name":"maintenanceMarginAmount","type":"uint256"},{"name":"maxDurationUnixTimestampSec","type":"uint256"},{"name":"loanOrderHash","type":"bytes32"}],"name":"loanOrder","type":"tuple"},{"components":[{"name":"trader","type":"address"},{"name":"collateralTokenAddressFilled","type":"address"},{"name":"positionTokenAddressFilled","type":"address"},{"name":"loanTokenAmountFilled","type":"uint256"},{"name":"loanTokenAmountUsed","type":"uint256"},{"name":"collateralTokenAmountFilled","type":"uint256"},{"name":"positionTokenAmountFilled","type":"uint256"},{"name":"loanStartUnixTimestampSec","type":"uint256"},{"name":"loanEndUnixTimestampSec","type":"uint256"},{"name":"active","type":"bool"},{"name":"positionId","type":"uint256"}],"name":"loanPosition","type":"tuple"},{"name":"depositAmount","type":"uint256"},{"name":"gasUsed","type":"uint256"}],"name":"didDepositCollateral","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"components":[{"name":"loanTokenAddress","type":"address"},{"name":"interestTokenAddress","type":"address"},{"name":"collateralTokenAddress","type":"address"},{"name":"oracleAddress","type":"address"},{"name":"loanTokenAmount","type":"uint256"},{"name":"interestAmount","type":"uint256"},{"name":"initialMarginAmount","type":"uint256"},{"name":"maintenanceMarginAmount","type":"uint256"},{"name":"maxDurationUnixTimestampSec","type":"uint256"},{"name":"loanOrderHash","type":"bytes32"}],"name":"loanOrder","type":"tuple"},{"components":[{"name":"trader","type":"address"},{"name":"collateralTokenAddressFilled","type":"address"},{"name":"positionTokenAddressFilled","type":"address"},{"name":"loanTokenAmountFilled","type":"uint256"},{"name":"loanTokenAmountUsed","type":"uint256"},{"name":"collateralTokenAmountFilled","type":"uint256"},{"name":"positionTokenAmountFilled","type":"uint256"},{"name":"loanStartUnixTimestampSec","type":"uint256"},{"name":"loanEndUnixTimestampSec","type":"uint256"},{"name":"active","type":"bool"},{"name":"positionId","type":"uint256"}],"name":"loanPosition","type":"tuple"},{"name":"depositAmount","type":"uint256"},{"name":"gasUsed","type":"uint256"}],"name":"didDepositPosition","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"components":[{"name":"loanTokenAddress","type":"address"},{"name":"interestTokenAddress","type":"address"},{"name":"collateralTokenAddress","type":"address"},{"name":"oracleAddress","type":"address"},{"name":"loanTokenAmount","type":"uint256"},{"name":"interestAmount","type":"uint256"},{"name":"initialMarginAmount","type":"uint256"},{"name":"maintenanceMarginAmount","type":"uint256"},{"name":"maxDurationUnixTimestampSec","type":"uint256"},{"name":"loanOrderHash","type":"bytes32"}],"name":"loanOrder","type":"tuple"},{"name":"lender","type":"address"},{"name":"amountOwed","type":"uint256"},{"name":"gasUsed","type":"uint256"}],"name":"didPayInterest","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"lender","type":"address"},{"name":"interestTokenAddress","type":"address"},{"name":"amountOwed","type":"uint256"},{"name":"","type":"uint256"}],"name":"didPayInterestByLender","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"components":[{"name":"loanTokenAddress","type":"address"},{"name":"interestTokenAddress","type":"address"},{"name":"collateralTokenAddress","type":"address"},{"name":"oracleAddress","type":"address"},{"name":"loanTokenAmount","type":"uint256"},{"name":"interestAmount","type":"uint256"},{"name":"initialMarginAmount","type":"uint256"},{"name":"maintenanceMarginAmount","type":"uint256"},{"name":"maxDurationUnixTimestampSec","type":"uint256"},{"name":"loanOrderHash","type":"bytes32"}],"name":"loanOrder","type":"tuple"},{"components":[{"name":"makerAddress","type":"address"},{"name":"takerAddress","type":"address"},{"name":"feeRecipientAddress","type":"address"},{"name":"tradeTokenToFillAddress","type":"address"},{"name":"lenderRelayFee","type":"uint256"},{"name":"traderRelayFee","type":"uint256"},{"name":"makerRole","type":"uint256"},{"name":"expirationUnixTimestampSec","type":"uint256"},{"name":"withdrawOnOpen","type":"bool"},{"name":"description","type":"string"}],"name":"loanOrderAux","type":"tuple"},{"components":[{"name":"trader","type":"address"},{"name":"collateralTokenAddressFilled","type":"address"},{"name":"positionTokenAddressFilled","type":"address"},{"name":"loanTokenAmountFilled","type":"uint256"},{"name":"loanTokenAmountUsed","type":"uint256"},{"name":"collateralTokenAmountFilled","type":"uint256"},{"name":"positionTokenAmountFilled","type":"uint256"},{"name":"loanStartUnixTimestampSec","type":"uint256"},{"name":"loanEndUnixTimestampSec","type":"uint256"},{"name":"active","type":"bool"},{"name":"positionId","type":"uint256"}],"name":"loanPosition","type":"tuple"},{"name":"taker","type":"address"},{"name":"gasUsed","type":"uint256"}],"name":"didTakeOrder","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"components":[{"name":"loanTokenAddress","type":"address"},{"name":"interestTokenAddress","type":"address"},{"name":"collateralTokenAddress","type":"address"},{"name":"oracleAddress","type":"address"},{"name":"loanTokenAmount","type":"uint256"},{"name":"interestAmount","type":"uint256"},{"name":"initialMarginAmount","type":"uint256"},{"name":"maintenanceMarginAmount","type":"uint256"},{"name":"maxDurationUnixTimestampSec","type":"uint256"},{"name":"loanOrderHash","type":"bytes32"}],"name":"loanOrder","type":"tuple"},{"components":[{"name":"trader","type":"address"},{"name":"collateralTokenAddressFilled","type":"address"},{"name":"positionTokenAddressFilled","type":"address"},{"name":"loanTokenAmountFilled","type":"uint256"},{"name":"loanTokenAmountUsed","type":"uint256"},{"name":"collateralTokenAmountFilled","type":"uint256"},{"name":"positionTokenAmountFilled","type":"uint256"},{"name":"loanStartUnixTimestampSec","type":"uint256"},{"name":"loanEndUnixTimestampSec","type":"uint256"},{"name":"active","type":"bool"},{"name":"positionId","type":"uint256"}],"name":"loanPosition","type":"tuple"},{"name":"gasUsed","type":"uint256"}],"name":"didTradePosition","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"components":[{"name":"loanTokenAddress","type":"address"},{"name":"interestTokenAddress","type":"address"},{"name":"collateralTokenAddress","type":"address"},{"name":"oracleAddress","type":"address"},{"name":"loanTokenAmount","type":"uint256"},{"name":"interestAmount","type":"uint256"},{"name":"initialMarginAmount","type":"uint256"},{"name":"maintenanceMarginAmount","type":"uint256"},{"name":"maxDurationUnixTimestampSec","type":"uint256"},{"name":"loanOrderHash","type":"bytes32"}],"name":"loanOrder","type":"tuple"},{"name":"lender","type":"address"},{"name":"loanTokenAmountAdded","type":"uint256"},{"name":"totalNewFillableAmount","type":"uint256"},{"name":"newExpirationTimestamp","type":"uint256"},{"name":"gasUsed","type":"uint256"}],"name":"didUpdateLoanAsLender","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"components":[{"name":"loanTokenAddress","type":"address"},{"name":"interestTokenAddress","type":"address"},{"name":"collateralTokenAddress","type":"address"},{"name":"oracleAddress","type":"address"},{"name":"loanTokenAmount","type":"uint256"},{"name":"interestAmount","type":"uint256"},{"name":"initialMarginAmount","type":"uint256"},{"name":"maintenanceMarginAmount","type":"uint256"},{"name":"maxDurationUnixTimestampSec","type":"uint256"},{"name":"loanOrderHash","type":"bytes32"}],"name":"loanOrder","type":"tuple"},{"components":[{"name":"trader","type":"address"},{"name":"collateralTokenAddressFilled","type":"address"},{"name":"positionTokenAddressFilled","type":"address"},{"name":"loanTokenAmountFilled","type":"uint256"},{"name":"loanTokenAmountUsed","type":"uint256"},{"name":"collateralTokenAmountFilled","type":"uint256"},{"name":"positionTokenAmountFilled","type":"uint256"},{"name":"loanStartUnixTimestampSec","type":"uint256"},{"name":"loanEndUnixTimestampSec","type":"uint256"},{"name":"active","type":"bool"},{"name":"positionId","type":"uint256"}],"name":"loanPosition","type":"tuple"},{"name":"withdrawAmount","type":"uint256"},{"name":"gasUsed","type":"uint256"}],"name":"didWithdrawCollateral","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"components":[{"name":"loanTokenAddress","type":"address"},{"name":"interestTokenAddress","type":"address"},{"name":"collateralTokenAddress","type":"address"},{"name":"oracleAddress","type":"address"},{"name":"loanTokenAmount","type":"uint256"},{"name":"interestAmount","type":"uint256"},{"name":"initialMarginAmount","type":"uint256"},{"name":"maintenanceMarginAmount","type":"uint256"},{"name":"maxDurationUnixTimestampSec","type":"uint256"},{"name":"loanOrderHash","type":"bytes32"}],"name":"loanOrder","type":"tuple"},{"components":[{"name":"trader","type":"address"},{"name":"collateralTokenAddressFilled","type":"address"},{"name":"positionTokenAddressFilled","type":"address"},{"name":"loanTokenAmountFilled","type":"uint256"},{"name":"loanTokenAmountUsed","type":"uint256"},{"name":"collateralTokenAmountFilled","type":"uint256"},{"name":"positionTokenAmountFilled","type":"uint256"},{"name":"loanStartUnixTimestampSec","type":"uint256"},{"name":"loanEndUnixTimestampSec","type":"uint256"},{"name":"active","type":"bool"},{"name":"positionId","type":"uint256"}],"name":"loanPosition","type":"tuple"},{"name":"withdrawAmount","type":"uint256"},{"name":"gasUsed","type":"uint256"}],"name":"didWithdrawPosition","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"loanTokenAddress","type":"address"},{"name":"positionTokenAddress","type":"address"},{"name":"collateralTokenAddress","type":"address"},{"name":"loanTokenAmount","type":"uint256"},{"name":"positionTokenAmount","type":"uint256"},{"name":"collateralTokenAmount","type":"uint256"}],"name":"getCurrentMarginAmount","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"components":[{"name":"loanTokenAddress","type":"address"},{"name":"interestTokenAddress","type":"address"},{"name":"collateralTokenAddress","type":"address"},{"name":"oracleAddress","type":"address"},{"name":"loanTokenAmount","type":"uint256"},{"name":"interestAmount","type":"uint256"},{"name":"initialMarginAmount","type":"uint256"},{"name":"maintenanceMarginAmount","type":"uint256"},{"name":"maxDurationUnixTimestampSec","type":"uint256"},{"name":"loanOrderHash","type":"bytes32"}],"name":"loanOrder","type":"tuple"},{"components":[{"name":"trader","type":"address"},{"name":"collateralTokenAddressFilled","type":"address"},{"name":"positionTokenAddressFilled","type":"address"},{"name":"loanTokenAmountFilled","type":"uint256"},{"name":"loanTokenAmountUsed","type":"uint256"},{"name":"collateralTokenAmountFilled","type":"uint256"},{"name":"positionTokenAmountFilled","type":"uint256"},{"name":"loanStartUnixTimestampSec","type":"uint256"},{"name":"loanEndUnixTimestampSec","type":"uint256"},{"name":"active","type":"bool"},{"name":"positionId","type":"uint256"}],"name":"loanPosition","type":"tuple"}],"name":"getPositionOffset","outputs":[{"name":"isPositive","type":"bool"},{"name":"positionOffsetAmount","type":"uint256"},{"name":"loanOffsetAmount","type":"uint256"},{"name":"collateralOffsetAmount","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"sourceTokenAddress","type":"address"},{"name":"destTokenAddress","type":"address"},{"name":"sourceTokenAmount","type":"uint256"}],"name":"getTradeData","outputs":[{"name":"sourceToDestRate","type":"uint256"},{"name":"sourceToDestPrecision","type":"uint256"},{"name":"destTokenAmount","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"sourceTokenAddress","type":"address"},{"name":"destTokenAddress","type":"address"},{"name":"sourceTokenAmount","type":"uint256"}],"name":"isTradeSupported","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"components":[{"name":"loanTokenAddress","type":"address"},{"name":"interestTokenAddress","type":"address"},{"name":"collateralTokenAddress","type":"address"},{"name":"oracleAddress","type":"address"},{"name":"loanTokenAmount","type":"uint256"},{"name":"interestAmount","type":"uint256"},{"name":"initialMarginAmount","type":"uint256"},{"name":"maintenanceMarginAmount","type":"uint256"},{"name":"maxDurationUnixTimestampSec","type":"uint256"},{"name":"loanOrderHash","type":"bytes32"}],"name":"loanOrder","type":"tuple"},{"components":[{"name":"trader","type":"address"},{"name":"collateralTokenAddressFilled","type":"address"},{"name":"positionTokenAddressFilled","type":"address"},{"name":"loanTokenAmountFilled","type":"uint256"},{"name":"loanTokenAmountUsed","type":"uint256"},{"name":"collateralTokenAmountFilled","type":"uint256"},{"name":"positionTokenAmountFilled","type":"uint256"},{"name":"loanStartUnixTimestampSec","type":"uint256"},{"name":"loanEndUnixTimestampSec","type":"uint256"},{"name":"active","type":"bool"},{"name":"positionId","type":"uint256"}],"name":"loanPosition","type":"tuple"},{"name":"maxDestTokenAmount","type":"uint256"}],"name":"liquidatePosition","outputs":[{"name":"destTokenAmountReceived","type":"uint256"},{"name":"sourceTokenAmountUsed","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"components":[{"name":"loanTokenAddress","type":"address"},{"name":"interestTokenAddress","type":"address"},{"name":"collateralTokenAddress","type":"address"},{"name":"oracleAddress","type":"address"},{"name":"loanTokenAmount","type":"uint256"},{"name":"interestAmount","type":"uint256"},{"name":"initialMarginAmount","type":"uint256"},{"name":"maintenanceMarginAmount","type":"uint256"},{"name":"maxDurationUnixTimestampSec","type":"uint256"},{"name":"loanOrderHash","type":"bytes32"}],"name":"loanOrder","type":"tuple"},{"components":[{"name":"trader","type":"address"},{"name":"collateralTokenAddressFilled","type":"address"},{"name":"positionTokenAddressFilled","type":"address"},{"name":"loanTokenAmountFilled","type":"uint256"},{"name":"loanTokenAmountUsed","type":"uint256"},{"name":"collateralTokenAmountFilled","type":"uint256"},{"name":"positionTokenAmountFilled","type":"uint256"},{"name":"loanStartUnixTimestampSec","type":"uint256"},{"name":"loanEndUnixTimestampSec","type":"uint256"},{"name":"active","type":"bool"},{"name":"positionId","type":"uint256"}],"name":"loanPosition","type":"tuple"},{"name":"loanTokenAmountNeeded","type":"uint256"},{"name":"isLiquidation","type":"bool"}],"name":"processCollateral","outputs":[{"name":"loanTokenAmountCovered","type":"uint256"},{"name":"collateralTokenAmountUsed","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"components":[{"name":"loanTokenAddress","type":"address"},{"name":"interestTokenAddress","type":"address"},{"name":"collateralTokenAddress","type":"address"},{"name":"oracleAddress","type":"address"},{"name":"loanTokenAmount","type":"uint256"},{"name":"interestAmount","type":"uint256"},{"name":"initialMarginAmount","type":"uint256"},{"name":"maintenanceMarginAmount","type":"uint256"},{"name":"maxDurationUnixTimestampSec","type":"uint256"},{"name":"loanOrderHash","type":"bytes32"}],"name":"loanOrder","type":"tuple"},{"components":[{"name":"trader","type":"address"},{"name":"collateralTokenAddressFilled","type":"address"},{"name":"positionTokenAddressFilled","type":"address"},{"name":"loanTokenAmountFilled","type":"uint256"},{"name":"loanTokenAmountUsed","type":"uint256"},{"name":"collateralTokenAmountFilled","type":"uint256"},{"name":"positionTokenAmountFilled","type":"uint256"},{"name":"loanStartUnixTimestampSec","type":"uint256"},{"name":"loanEndUnixTimestampSec","type":"uint256"},{"name":"active","type":"bool"},{"name":"positionId","type":"uint256"}],"name":"loanPosition","type":"tuple"}],"name":"shouldLiquidate","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"sourceTokenAddress","type":"address"},{"name":"destTokenAddress","type":"address"},{"name":"sourceTokenAmount","type":"uint256"},{"name":"maxDestTokenAmount","type":"uint256"}],"name":"trade","outputs":[{"name":"destTokenAmountReceived","type":"uint256"},{"name":"sourceTokenAmountUsed","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"components":[{"name":"loanTokenAddress","type":"address"},{"name":"interestTokenAddress","type":"address"},{"name":"collateralTokenAddress","type":"address"},{"name":"oracleAddress","type":"address"},{"name":"loanTokenAmount","type":"uint256"},{"name":"interestAmount","type":"uint256"},{"name":"initialMarginAmount","type":"uint256"},{"name":"maintenanceMarginAmount","type":"uint256"},{"name":"maxDurationUnixTimestampSec","type":"uint256"},{"name":"loanOrderHash","type":"bytes32"}],"name":"loanOrder","type":"tuple"},{"components":[{"name":"trader","type":"address"},{"name":"collateralTokenAddressFilled","type":"address"},{"name":"positionTokenAddressFilled","type":"address"},{"name":"loanTokenAmountFilled","type":"uint256"},{"name":"loanTokenAmountUsed","type":"uint256"},{"name":"collateralTokenAmountFilled","type":"uint256"},{"name":"positionTokenAmountFilled","type":"uint256"},{"name":"loanStartUnixTimestampSec","type":"uint256"},{"name":"loanEndUnixTimestampSec","type":"uint256"},{"name":"active","type":"bool"},{"name":"positionId","type":"uint256"}],"name":"loanPosition","type":"tuple"},{"name":"destTokenAddress","type":"address"},{"name":"maxDestTokenAmount","type":"uint256"},{"name":"ensureHealthy","type":"bool"}],"name":"tradePosition","outputs":[{"name":"destTokenAmountReceived","type":"uint256"},{"name":"sourceTokenAmountUsed","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"}],"addresses":{"1":"","3":"","4":"","42":"","50":""}}')},function(e){e.exports=JSON.parse('{"name":"BZxVault","abi":[],"addresses":{"1":"0x8b3d70d628ebd30d4a2ea82db95ba2e906c71633","3":"0xbab325bc2e78ea080f46c1a2bf9bf25f8a3c4d69","4":"0x8f254255592e6e210cc9a464cfa2464da2467df6","42":"0xce069b35ae99762bee444c81dec1728aa99afd4b","50":"0xc4df27466183c0fe2a5924d6ea56e334deff146a"}}')},function(e){e.exports=JSON.parse('{"name":"BZRxToken","abi":[],"addresses":{"1":"0x1c74cff0376fb4031cd7492cd6db2d66c3f2c6b9","3":"0xf8b0b6ee32a617beca665b6c5b241ac15b1acdd5","4":"","42":"0xe3e682a8fc7efec410e4099cc09efcc0743c634a","50":"0xca9717a4a6e8009b3518648c9f3e7676255471a1"}}')},function(e){e.exports=JSON.parse('{"name":"BZRxTokenConvert","abi":[],"addresses":{"1":"0xb052f48db50d71a46697ff3e7cc91a28bc70584e","3":"0x8b789e0e1ce2deb81f22197711eb9222eff21ff7","42":"0x84a46290b09ab523a107219e553587a6d30221b1","50":"0x5315e44798395d4a952530d131249fe00f554565"}}')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getConversionData=t.isTradeSupported=t.getOracleList=t.formatOracleList=t.cleanOracleNames=t.getOracleListRaw=void 0;var a=n(9),s=n(2),r=n(5),o=l(n(1)),i=n(0),d=l(n(3));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function u(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function a(s,r){try{var o=t[s](r),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){a("next",e)},function(e){a("throw",e)});e(i)}("next")})}}const p=t.getOracleListRaw=(m=u(function*({web3:e,networkId:t}){const n=yield o.getContractInstance(e,(0,i.getContracts)(t).OracleRegistry.abi,d.getAddresses(t).OracleRegistry),a=yield n.methods.getOracleList().call();return{oracleAddresses:a[0],oracleNameLengths:a[1],oracleNamesAllConcat:a[2]}}),function(e){return m.apply(this,arguments)});var m;const y=t.cleanOracleNames=({oracleNameLengths:e,oracleNamesAllConcat:t})=>{const n=(0,s.map)(e=>Number(e)),a=(0,s.map)(e=>t.substring(e[0],e[1]));return(0,s.pipe)(n,e=>{const[t,n]=(0,s.mapAccum)((e,t)=>[e+t,[e,e+t]],0)(e);return n},a)(e)},c=t.formatOracleList=({oracleAddresses:e,oracleNames:t})=>(0,s.zipWith)((e,t)=>({address:e.toLowerCase(),name:t}),e,t);t.getOracleList=(f=u(function*({web3:e,networkId:t}){const{oracleAddresses:n,oracleNameLengths:a,oracleNamesAllConcat:s}=yield p({web3:e,networkId:t}),r=y({oracleNameLengths:a,oracleNamesAllConcat:s});return c({oracleAddresses:n,oracleNames:r})}),function(e){return f.apply(this,arguments)});var f;t.isTradeSupported=(b=u(function*({web3:e,networkId:t},{sourceTokenAddress:n,destTokenAddress:a,oracleAddress:s,sourceTokenAmount:d}){r.assert.isETHAddressHex("sourceTokenAddress",n),r.assert.isETHAddressHex("destTokenAddress",a),r.assert.isETHAddressHex("oracleAddress",s);const l=yield o.getContractInstance(e,(0,i.getContracts)(t).OracleInterface.abi,s),u=Promise.all([l.methods.isTradeSupported(n,a,d).call(),l.methods.isTradeSupported(a,n,d).call()]),[p,m]=yield u;return p&&m}),function(e,t){return b.apply(this,arguments)});var b;t.getConversionData=(A=u(function*({web3:e,networkId:t},n,s,d,l){r.assert.isETHAddressHex("sourceTokenAddress",n),r.assert.isETHAddressHex("destTokenAddress",s),r.assert.isETHAddressHex("oracleAddress",l);const u=yield o.getContractInstance(e,(0,i.getContracts)(t).OracleInterface.abi,l);console.log("conversion data params: ",n,s,d);const p=yield u.methods.getTradeData(n,s,d).call();return console.log("conversion data return: ",p),{rate:0 in p&&p[0]?p[0]:new a.BigNumber(0),precision:1 in p&&p[1]?p[1]:new a.BigNumber(0),amount:2 in p&&p[2]?p[2]:new a.BigNumber(0)}}),function(e,t,n,a,s){return A.apply(this,arguments)});var A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.orderCancelledAmount=t.orderFilledAmount=t.getInitialCollateralRequired=t.cancelLoanOrderWithHash=t.cancelLoanOrder=t.takeLoanOrderOnChainAsLender=t.takeLoanOrderOnChainAsTrader=t.pushLoanOrderOnChain=t.takeLoanOrderAsTrader=t.takeLoanOrderAsLender=void 0;var a=d(n(6)),s=d(n(1)),r=d(n(4)),o=n(0),i=d(n(3));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function l(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function a(s,r){try{var o=t[s](r),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){a("next",e)},function(e){a("throw",e)});e(i)}("next")})}}const u=e=>{a.isValidSignature({account:e.makerAddress,orderHash:s.getLoanOrderHashHex(e),signature:e.signature})};t.takeLoanOrderAsLender=({web3:e,networkId:t},{order:n,oracleData:a,getObject:r,txOpts:d})=>{u(n);const l=s.getContractInstance(e,(0,o.getContracts)(t).BZx.abi,i.getAddresses(t).BZx),p=[n.makerAddress,n.loanTokenAddress,n.interestTokenAddress,n.collateralTokenAddress,n.feeRecipientAddress,n.oracleAddress,n.takerAddress,n.tradeTokenToFillAddress],m=[n.loanTokenAmount,n.interestAmount,n.initialMarginAmount,n.maintenanceMarginAmount,n.lenderRelayFee,n.traderRelayFee,n.maxDurationUnixTimestampSec,n.expirationUnixTimestampSec,n.makerRole,n.withdrawOnOpen,n.salt],y=l.methods.takeLoanOrderAsLender(p,m,a||"0x",n.signature);return r?y:y.send(d)},t.takeLoanOrderAsTrader=({web3:e,networkId:t},{order:n,oracleData:a,collateralTokenAddress:d,loanTokenAmountFilled:l,tradeTokenToFillAddress:p,withdrawOnOpen:m,getObject:y,txOpts:c})=>{u(n),console.log(n,a,d,l,p,m,y,c);const f=s.getContractInstance(e,(0,o.getContracts)(t).BZx.abi,i.getAddresses(t).BZx),b=[n.makerAddress,n.loanTokenAddress,n.interestTokenAddress,n.collateralTokenAddress,n.feeRecipientAddress,n.oracleAddress,n.takerAddress,n.tradeTokenToFillAddress],A=[n.loanTokenAmount,n.interestAmount,n.initialMarginAmount,n.maintenanceMarginAmount,n.lenderRelayFee,n.traderRelayFee,n.maxDurationUnixTimestampSec,n.expirationUnixTimestampSec,n.makerRole,n.withdrawOnOpen,n.salt],g=f.methods.takeLoanOrderAsTrader(b,A,a||"0x",d,e.utils.toBN(l).toString(10),p||r.NULL_ADDRESS,m||!1,n.signature);return y?g:g.send(c)},t.pushLoanOrderOnChain=({web3:e,networkId:t},{order:n,oracleData:a,getObject:r,txOpts:d})=>{n.signature&&u(n);const l=s.getContractInstance(e,(0,o.getContracts)(t).BZx.abi,i.getAddresses(t).BZx),p=[n.makerAddress,n.loanTokenAddress,n.interestTokenAddress,n.collateralTokenAddress,n.feeRecipientAddress,n.oracleAddress,n.takerAddress,n.tradeTokenToFillAddress],m=[e.utils.toBN(n.loanTokenAmount).toString(10),e.utils.toBN(n.interestAmount).toString(10),e.utils.toBN(n.initialMarginAmount).toString(10),e.utils.toBN(n.maintenanceMarginAmount).toString(10),e.utils.toBN(n.lenderRelayFee).toString(10),e.utils.toBN(n.traderRelayFee).toString(10),e.utils.toBN(n.maxDurationUnixTimestampSec).toString(10),e.utils.toBN(n.expirationUnixTimestampSec).toString(10),e.utils.toBN(n.makerRole).toString(10),e.utils.toBN(n.withdrawOnOpen).toString(10),e.utils.toBN(n.salt).toString(10)],y=l.methods.pushLoanOrderOnChain(p,m,a||"0x",n.signature||"0x");return r?y:y.send(d)},t.takeLoanOrderOnChainAsTrader=({web3:e,networkId:t},{loanOrderHash:n,collateralTokenAddress:a,loanTokenAmountFilled:d,tradeTokenToFillAddress:l,withdrawOnOpen:u,getObject:p,txOpts:m})=>{const y=s.getContractInstance(e,(0,o.getContracts)(t).BZx.abi,i.getAddresses(t).BZx).methods.takeLoanOrderOnChainAsTrader(n,a,e.utils.toBN(d).toString(10),l||r.NULL_ADDRESS,u||!1);return p?y:y.send(m)},t.takeLoanOrderOnChainAsLender=({web3:e,networkId:t},{loanOrderHash:n,getObject:a,txOpts:r})=>{const d=s.getContractInstance(e,(0,o.getContracts)(t).BZx.abi,i.getAddresses(t).BZx).methods.takeLoanOrderOnChainAsLender(n);return a?d:d.send(r)},t.cancelLoanOrder=({web3:e,networkId:t},{order:n,oracleData:a,cancelLoanTokenAmount:r,getObject:d,txOpts:l})=>{const u=s.getContractInstance(e,(0,o.getContracts)(t).BZx.abi,i.getAddresses(t).BZx),p=[n.makerAddress,n.loanTokenAddress,n.interestTokenAddress,n.collateralTokenAddress,n.feeRecipientAddress,n.oracleAddress,n.takerAddress,n.tradeTokenToFillAddress],m=[n.loanTokenAmount,n.interestAmount,n.initialMarginAmount,n.maintenanceMarginAmount,n.lenderRelayFee,n.traderRelayFee,n.maxDurationUnixTimestampSec,n.expirationUnixTimestampSec,n.makerRole,n.withdrawOnOpen,n.salt],y=u.methods.cancelLoanOrder(p,m,a||"0x",e.utils.toBN(r).toString(10));return d?y:y.send(l)},t.cancelLoanOrderWithHash=({web3:e,networkId:t},{loanOrderHash:n,cancelLoanTokenAmount:a,getObject:r,txOpts:d})=>{const l=s.getContractInstance(e,(0,o.getContracts)(t).BZx.abi,i.getAddresses(t).BZx).methods.cancelLoanOrderWithHash(n,e.utils.toBN(a).toString(10));return r?l:l.send(d)},t.getInitialCollateralRequired=(p=l(function*({web3:e,networkId:t},n,a,r,d,l){const u=yield s.getContractInstance(e,(0,o.getContracts)(t).BZx.abi,i.getAddresses(t).BZx);let p=null;try{p=yield u.methods.getInitialCollateralRequired(n,a,r,d,l).call()}catch(e){console.log(e)}return p}),function(e,t,n,a,s,r){return p.apply(this,arguments)});var p;t.orderFilledAmount=(m=l(function*({web3:e,networkId:t},n){const a=yield s.getContractInstance(e,(0,o.getContracts)(t).BZx.abi,i.getAddresses(t).BZx);let r=null;try{r=yield a.methods.orderFilledAmounts(n).call()}catch(e){console.log(e)}return r}),function(e,t){return m.apply(this,arguments)});var m;t.orderCancelledAmount=(y=l(function*({web3:e,networkId:t},n){const a=yield s.getContractInstance(e,(0,o.getContracts)(t).BZx.abi,i.getAddresses(t).BZx);let r=null;try{r=yield a.methods.orderCancelledAmounts(n).call()}catch(e){console.log(e)}return r}),function(e,t){return y.apply(this,arguments)});var y},function(e,t){e.exports=require("eth-sig-util")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseSignatureHexAsRSV=t.parseSignatureHexAsVRS=t.isValidSignature=void 0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(7));t.isValidSignature=(e,t,n)=>{const s=a.toBuffer(e),r=a.hashPersonalMessage(s);try{const e=a.ecrecover(r,t.v,a.toBuffer(t.r),a.toBuffer(t.s));return a.bufferToHex(a.pubToAddress(e))===n}catch(e){return!1}},t.parseSignatureHexAsVRS=e=>{const t=a.toBuffer(e);let n=t[0];n<27&&(n+=27);const s=t.slice(1,33),r=t.slice(33,65);return{v:n,r:a.bufferToHex(s),s:a.bufferToHex(r)}},t.parseSignatureHexAsRSV=e=>{const t=a.fromRpcSig(e);return{v:t.v,r:a.bufferToHex(t.r),s:a.bufferToHex(t.s)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOrdersForUser=t.getOrdersFillable=t.getSingleOrder=void 0;var a=n(35);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var s=l(n(1)),r=n(4),o=n(0),i=l(n(3)),d=l(n(37));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function u(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function a(s,r){try{var o=t[s](r),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){a("next",e)},function(e){a("throw",e)});e(i)}("next")})}}t.getSingleOrder=(p=u(function*({web3:e,networkId:t},{loanOrderHash:n}){const a=yield s.getContractInstance(e,(0,o.getContracts)(t).BZx.abi,i.getAddresses(t).BZx),r=yield a.methods.getSingleOrder(n).call(),l=d.cleanData(r);return l.length>0?l[0]:{}}),function(e,t){return p.apply(this,arguments)});var p;t.getOrdersFillable=(m=u(function*({web3:e,networkId:t},{start:n,count:a,oracleFilter:l}){const u=yield s.getContractInstance(e,(0,o.getContracts)(t).BZx.abi,i.getAddresses(t).BZx),p=yield u.methods.getOrdersFillable(e.utils.toBN(n).toString(10),e.utils.toBN(a).toString(10),e.utils.isAddress(l)?l:r.NULL_ADDRESS).call();return d.cleanData(p)}),function(e,t){return m.apply(this,arguments)});var m;t.getOrdersForUser=(y=u(function*({web3:e,networkId:t},{loanPartyAddress:n,start:a,count:l,oracleFilter:u}){const p=yield s.getContractInstance(e,(0,o.getContracts)(t).BZx.abi,i.getAddresses(t).BZx),m=yield p.methods.getOrdersForUser(n,e.utils.toBN(a).toString(10),e.utils.toBN(l).toString(10),e.utils.isAddress(u)?u:r.NULL_ADDRESS).call();return d.cleanData(m)}),function(e,t){return y.apply(this,arguments)});var y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLoansForTrader=t.getLoansForLender=t.getSingleLoan=void 0;var a=i(n(1)),s=n(0),r=i(n(3)),o=i(n(36));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function a(s,r){try{var o=t[s](r),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){a("next",e)},function(e){a("throw",e)});e(i)}("next")})}}t.getSingleLoan=(l=d(function*({web3:e,networkId:t},{loanOrderHash:n,trader:i}){const d=yield a.getContractInstance(e,(0,s.getContracts)(t).BZx.abi,r.getAddresses(t).BZx),l=yield d.methods.getSingleLoan(n,i).call(),u=o.cleanData(l);return u.length>0?u[0]:{}}),function(e,t){return l.apply(this,arguments)});var l;t.getLoansForLender=(u=d(function*({web3:e,networkId:t},{address:n,count:i,activeOnly:d}){const l=yield a.getContractInstance(e,(0,s.getContracts)(t).BZx.abi,r.getAddresses(t).BZx),u=yield l.methods.getLoansForLender(n,i,d).call();return o.cleanData(u)}),function(e,t){return u.apply(this,arguments)});var u;t.getLoansForTrader=(p=d(function*({web3:e,networkId:t},{address:n,count:i,activeOnly:d}){const l=yield a.getContractInstance(e,(0,s.getContracts)(t).BZx.abi,r.getAddresses(t).BZx),u=yield l.methods.getLoansForTrader(n,i,d).call();return o.cleanData(u)}),function(e,t){return p.apply(this,arguments)});var p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cleanData=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=n(2),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(8));const o=e=>a({},(0,s.map)((0,s.pipe)(r.substr24,r.prepend0x),{lender:e[0],trader:e[1],collateralTokenAddressFilled:e[2],positionTokenAddressFilled:e[3],loanTokenAddress:e[11],interestTokenAddress:e[12]}),(0,s.map)((0,s.pipe)(r.prepend0x,r.parseIntHex),{loanTokenAmountFilled:e[4],collateralTokenAmountFilled:e[5],positionTokenAmountFilled:e[6],loanStartUnixTimestampSec:e[7],loanEndUnixTimestampSec:e[8],active:e[9],interestPaidTotal:e[13],interestDepositRemaining:e[14]}),(0,s.map)((0,s.pipe)(r.prepend0x),{loanOrderHash:e[10]})),i=r.makeCheckProperObjCount(15),d=r.makeGetOrderObjArray(15);t.cleanData=e=>e&&"0x"!==e?(0,s.pipe)(r.remove0xPrefix,i,d,(0,s.map)((0,s.pipe)(r.getOrderParams,o)))(e):[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cleanData=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=n(2),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(8));const o=e=>a({},(0,s.map)((0,s.pipe)(r.substr24,r.prepend0x),{makerAddress:e[0],takerAddress:e[20],loanTokenAddress:e[1],interestTokenAddress:e[2],collateralTokenAddress:e[3],feeRecipientAddress:e[4],oracleAddress:e[5],lender:e[15],tradeTokenToFillAddress:e[21]}),(0,s.map)((0,s.pipe)(r.prepend0x,r.parseIntHex),{loanTokenAmount:e[6],interestAmount:e[7],initialMarginAmount:e[8],maintenanceMarginAmount:e[9],lenderRelayFee:e[10],traderRelayFee:e[11],maxDurationUnixTimestampSec:e[12],expirationUnixTimestampSec:e[13],orderFilledAmount:e[16],orderCancelledAmount:e[17],orderTraderCount:e[18],addedUnixTimestampSec:e[19],withdrawOnOpen:e[22]}),{loanOrderHash:r.prepend0x(e[14])}),i=r.makeCheckProperObjCount(23),d=r.makeGetOrderObjArray(23);t.cleanData=e=>e&&"0x"!==e?(0,s.pipe)(r.remove0xPrefix,i,d,(0,s.map)((0,s.pipe)(r.getOrderParams,o)))(e):[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ContractDoesNotExist="Contract does not exist at address.",t.NoNetworkId="Missing networkId. Provide a networkId param.",t.InvalidSignature="Signature is invalid."},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tradePositionWithOracle=t.tradePositionWith0xV2=t.tradePositionWith0x=void 0;var a=n(2),s=c(n(13)),r=c(n(12)),o=c(n(40)),i=c(n(7)),d=c(n(41)),l=y(n(1)),u=n(0),p=y(n(42)),m=y(n(6));function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}const f=e=>new r.default(e),b=e=>s.default.padLeft(e,64),A=e=>`0x${e}`;t.tradePositionWith0x=({web3:e,networkId:t},{order0x:n,orderHashBZx:s,getObject:r,txOpts:y})=>{const c=i.default.toRpcSig(n.signedOrder.ecSignature.v,n.signedOrder.ecSignature.r,n.signedOrder.ecSignature.s),g=p.transform0xOrder(n),h=d.default.getOrderHashHex(g);m.isValidSignature({account:n.signedOrder.maker,orderHash:h,signature:c});const k=(0,u.getContracts)(t),T=l.getContractInstance(e,k.BZx.abi,k.BZx.addresses[t]),O=[...[g.maker,g.taker,g.makerTokenAddress,g.takerTokenAddress,g.feeRecipient].map(b),...[g.makerTokenAmount,g.takerTokenAmount,g.makerFee,g.takerFee,g.expirationUnixTimestampSec,g.salt].map(e=>(0,a.pipe)(f,b,A)(e))],x=(0,a.repeat)("bytes32",O.length),w=o.default.solidityPack(x,O),v=i.default.bufferToHex(w),S=T.methods.tradePositionWith0x(s,v,c);return r?S:S.send(y)},t.tradePositionWith0xV2=({web3:e,networkId:t},{order0x:n,orderHashBZx:a,getObject:s,txOpts:r})=>{const o=(0,u.getContracts)(t),i=l.getContractInstance(e,o.BZx.abi,o.BZx.addresses[t]),d=[],p=[];if(Array.isArray(n))for(let e=0;e<n.length;e+=1)d.push([n[e].signedOrder.makerAddress,n[e].signedOrder.takerAddress,n[e].signedOrder.feeRecipientAddress,n[e].signedOrder.senderAddress,n[e].signedOrder.makerAssetAmount,n[e].signedOrder.takerAssetAmount,n[e].signedOrder.makerFee,n[e].signedOrder.takerFee,n[e].signedOrder.expirationTimeSeconds,n[e].signedOrder.salt,n[e].signedOrder.makerAssetData,n[e].signedOrder.takerAssetData]),p.push(n[e].signedOrder.signature);else d.push([n.signedOrder.makerAddress,n.signedOrder.takerAddress,n.signedOrder.feeRecipientAddress,n.signedOrder.senderAddress,n.signedOrder.makerAssetAmount,n.signedOrder.takerAssetAmount,n.signedOrder.makerFee,n.signedOrder.takerFee,n.signedOrder.expirationTimeSeconds,n.signedOrder.salt,n.signedOrder.makerAssetData,n.signedOrder.takerAssetData]),p.push(n.signedOrder.signature);const m=i.methods.tradePositionWith0xV2(a,d,p);return s?m:m.send(r)},t.tradePositionWithOracle=({web3:e,networkId:t},{orderHash:n,tradeTokenAddress:a,getObject:s,txOpts:r={}}={})=>{const o=(0,u.getContracts)(t),i=l.getContractInstance(e,o.BZx.abi,o.BZx.addresses[t]).methods.tradePositionWithOracle(n,a);return s?i:i.send(r)}},function(e,t){e.exports=require("ethereumjs-abi")},function(e,t){e.exports=require("@0x/order-utils")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transform0xOrder=void 0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(4));t.transform0xOrder=({signedOrder:e})=>({exchangeContractAddress:e.exchangeContractAddress,expirationUnixTimestampSec:e.expirationUnixTimestampSec,feeRecipient:e.feeRecipient,maker:e.maker,makerFee:e.makerFee,makerTokenAddress:e.makerTokenAddress,makerTokenAmount:e.makerTokenAmount,salt:e.salt,taker:e.taker||a.NULL_ADDRESS,takerFee:e.takerFee,takerTokenAddress:e.takerTokenAddress,takerTokenAmount:e.takerTokenAmount})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.closeLoan=t.closeLoanPartially=t.getTraderInterestForLoan=t.getLenderInterestForOrder=t.getLenderInterestForOracle=t.payInterestForOracle=t.getPositionOffset=t.depositPosition=t.withdrawPosition=t.changeCollateral=t.withdrawCollateral=t.depositCollateral=void 0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=n(0);function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function a(s,r){try{var o=t[s](r),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){a("next",e)},function(e){a("throw",e)});e(i)}("next")})}}t.depositCollateral=({web3:e,networkId:t,addresses:n},{loanOrderHash:r,depositTokenAddress:o,depositAmount:i,getObject:d,txOpts:l})=>{const u=a.getContractInstance(e,(0,s.getContracts)(t).BZx.abi,n.BZx).methods.depositCollateral(r,o,e.utils.toBN(i).toString(10));return d?u:u.send(l)},t.withdrawCollateral=({web3:e,networkId:t,addresses:n},{loanOrderHash:r,withdrawAmount:o,getObject:i,txOpts:d})=>{const l=a.getContractInstance(e,(0,s.getContracts)(t).BZx.abi,n.BZx).methods.withdrawCollateral(r,e.utils.toBN(o).toString(10));return i?l:l.send(d)},t.changeCollateral=({web3:e,networkId:t,addresses:n},{loanOrderHash:r,collateralTokenFilled:o,getObject:i,txOpts:d})=>{const l=a.getContractInstance(e,(0,s.getContracts)(t).BZx.abi,n.BZx).methods.changeCollateral(r,o);return i?l:l.send(d)},t.withdrawPosition=({web3:e,networkId:t,addresses:n},{loanOrderHash:r,withdrawAmount:o,getObject:i,txOpts:d})=>{const l=a.getContractInstance(e,(0,s.getContracts)(t).BZx.abi,n.BZx).methods.withdrawPosition(r,e.utils.toBN(o).toString(10));return i?l:l.send(d)},t.depositPosition=({web3:e,networkId:t,addresses:n},{loanOrderHash:r,depositTokenAddress:o,depositAmount:i,getObject:d,txOpts:l})=>{const u=a.getContractInstance(e,(0,s.getContracts)(t).BZx.abi,n.BZx).methods.depositPosition(r,o,e.utils.toBN(i).toString(10));return d?u:u.send(l)},t.getPositionOffset=(o=r(function*({web3:e,networkId:t,addresses:n},{loanOrderHash:r,trader:o}){const i=yield a.getContractInstance(e,(0,s.getContracts)(t).BZx.abi,n.BZx),d=yield i.methods.getPositionOffset(r,o).call();return{isPositive:d.isPositive,positionOffsetAmount:d.positionOffsetAmount,loanOffsetAmount:d.loanOffsetAmount,collateralOffsetAmount:d.collateralOffsetAmount}}),function(e,t){return o.apply(this,arguments)});var o;t.payInterestForOracle=({web3:e,networkId:t,addresses:n},{oracleAddress:r,interestTokenAddress:o,getObject:i,txOpts:d})=>{const l=a.getContractInstance(e,(0,s.getContracts)(t).BZx.abi,n.BZx).methods.payInterestForOracle(r,o);return i?l:l.send(d)},t.getLenderInterestForOracle=(i=r(function*({web3:e,networkId:t,addresses:n},{lender:r,oracleAddress:o,interestTokenAddress:i}){const d=a.getContractInstance(e,(0,s.getContracts)(t).BZx.abi,n.BZx),l=yield d.methods.getLenderInterestForOracle(r,o,i).call();return{interestPaid:l[0],interestPaidDate:l[1],interestOwedPerDay:l[2],interestUnPaid:l[3]}}),function(e,t){return i.apply(this,arguments)});var i;t.getLenderInterestForOrder=(d=r(function*({web3:e,networkId:t,addresses:n},{loanOrderHash:r}){const o=a.getContractInstance(e,(0,s.getContracts)(t).BZx.abi,n.BZx),i=yield o.methods.getLenderInterestForOrder(r).call();return{lender:i[0],interestTokenAddress:i[1],interestPaid:i[2],interestPaidDate:i[3],interestOwedPerDay:i[4],interestUnPaid:i[5]}}),function(e,t){return d.apply(this,arguments)});var d;t.getTraderInterestForLoan=(l=r(function*({web3:e,networkId:t,addresses:n},{loanOrderHash:r,trader:o}){const i=a.getContractInstance(e,(0,s.getContracts)(t).BZx.abi,n.BZx),d=yield i.methods.getTraderInterestForLoan(r,o).call();return{interestTokenAddress:d[0],interestOwedPerDay:d[1],interestPaidTotal:d[2],interestDepositTotal:d[3],interestDepositRemaining:d[4]}}),function(e,t){return l.apply(this,arguments)});var l;t.closeLoanPartially=({web3:e,networkId:t,addresses:n},{loanOrderHash:r,closeAmount:o,getObject:i,txOpts:d})=>{const l=a.getContractInstance(e,(0,s.getContracts)(t).BZx.abi,n.BZx).methods.closeLoanPartially(r,e.utils.toBN(o).toString(10));return i?l:l.send(d)},t.closeLoan=({web3:e,networkId:t,addresses:n},{loanOrderHash:r,getObject:o,txOpts:i})=>{const d=a.getContractInstance(e,(0,s.getContracts)(t).BZx.abi,n.BZx).methods.closeLoan(r);return o?d:d.send(i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.liquidateLoan=t.getMarginLevels=t.getActiveLoans=void 0;var a=o(n(1)),s=n(0),r=o(n(45));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function a(s,r){try{var o=t[s](r),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){a("next",e)},function(e){a("throw",e)});e(i)}("next")})}}t.getActiveLoans=(d=i(function*({web3:e,networkId:t,addresses:n},{start:o,count:i}){const d=a.getContractInstance(e,(0,s.getContracts)(t).BZx.abi,n.BZx),l=yield d.methods.getActiveLoans(e.utils.toBN(o).toString(10),e.utils.toBN(i).toString(10)).call();return r.cleanData(l)}),function(e,t){return d.apply(this,arguments)});var d;t.getMarginLevels=(l=i(function*({web3:e,networkId:t,addresses:n},{loanOrderHash:r,trader:o}){const i=a.getContractInstance(e,(0,s.getContracts)(t).BZx.abi,n.BZx),d=yield i.methods.getMarginLevels(r,o).call();return{initialMarginAmount:d[0],maintenanceMarginAmount:d[1],currentMarginAmount:d[2]}}),function(e,t){return l.apply(this,arguments)});var l;t.liquidateLoan=({web3:e,networkId:t,addresses:n},{loanOrderHash:r,trader:o,liquidateAmount:i,getObject:d,txOpts:l})=>{const u=a.getContractInstance(e,(0,s.getContracts)(t).BZx.abi,n.BZx).methods.liquidatePosition(r,o,i||"0");return d?u:u.send(l)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cleanData=void 0;var a=n(2),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(8));const r=e=>({loanOrderHash:s.prepend0x(e[0]),trader:(0,a.pipe)(s.substr24,s.prepend0x)(e[1]),loanEndUnixTimestampSec:s.parseIntHex(e[2])}),o=s.makeCheckProperObjCount(3),i=s.makeGetOrderObjArray(3);t.cleanData=e=>e&&"0x"!==e?(0,a.pipe)(s.remove0xPrefix,o,i,(0,a.map)((0,a.pipe)(s.getOrderParams,r)))(e):[]}])});
//# sourceMappingURL=bzx.js.map